@echo off
chcp 65001 >nul
title Bybit Trading Bot - Launcher v3.0

echo.
echo â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
echo â•‘             BYBIT TRADING BOT v3.0                  â•‘
echo â•‘        ðŸš€ Ð—ÐÐŸÐ£Ð¡Ðš Ð¢ÐžÐ Ð“ÐžÐ’ÐžÐ“Ðž Ð‘ÐžÐ¢Ð                      â•‘
echo â•‘                                                      â•‘
echo â•‘  âœ… Ð’ÑÐµ Ð¿Ñ€Ð¾Ð±Ð»ÐµÐ¼Ñ‹ Ð¸ÑÐ¿Ñ€Ð°Ð²Ð»ÐµÐ½Ñ‹                          â•‘
echo â•‘  ðŸŽ¯ Ð ÐµÐ¶Ð¸Ð¼Ñ‹ Ñ‚Ð¾Ñ€Ð³Ð¾Ð²Ð»Ð¸ Ñ€Ð°Ð±Ð¾Ñ‚Ð°ÑŽÑ‚ ÐºÐ¾Ñ€Ñ€ÐµÐºÑ‚Ð½Ð¾               â•‘
echo â•‘  ðŸ“Š Ð˜Ð½Ð´Ð¸ÐºÐ°Ñ‚Ð¾Ñ€Ñ‹ Ð°Ð´Ð°Ð¿Ñ‚Ð¸Ñ€ÑƒÑŽÑ‚ÑÑ Ðº Ñ‚Ð°Ð¹Ð¼Ñ„Ñ€ÐµÐ¹Ð¼Ð°Ð¼            â•‘
echo â•‘  ðŸŒ Ð’ÐµÐ±-Ð¸Ð½Ñ‚ÐµÑ€Ñ„ÐµÐ¹Ñ: http://localhost:5000             â•‘
echo â•‘                                                      â•‘
echo â•‘  ðŸ†• PHASE 1 Ð£Ð›Ð£Ð§Ð¨Ð•ÐÐ˜Ð¯ ÐÐšÐ¢Ð˜Ð’ÐÐ«:                      â•‘
echo â•‘  ðŸ§  Ð£Ð¼Ð½Ð°Ñ Ñ„Ð¸Ð»ÑŒÑ‚Ñ€Ð°Ñ†Ð¸Ñ ÑÐ¸Ð³Ð½Ð°Ð»Ð¾Ð²                       â•‘
echo â•‘  ðŸ“ˆ ÐÐ½Ð°Ð»Ð¸Ð· Ñ€Ñ‹Ð½Ð¾Ñ‡Ð½Ñ‹Ñ… ÑƒÑÐ»Ð¾Ð²Ð¸Ð¹                         â•‘
echo â•‘  ðŸŽ¯ ÐÐ´Ð°Ð¿Ñ‚Ð¸Ð²Ð½Ñ‹Ðµ Ð²ÐµÑÐ° Ð¸Ð½Ð´Ð¸ÐºÐ°Ñ‚Ð¾Ñ€Ð¾Ð²                     â•‘
echo â•‘  ðŸ›¡ï¸ Ð¢Ñ€ÐµÐ¹Ð»Ð¸Ð½Ð³-ÑÑ‚Ð¾Ð¿Ñ‹                                  â•‘
echo â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
echo.

:: ÐŸÑ€Ð¾Ð²ÐµÑ€ÑÐµÐ¼ Python
echo ðŸ” ÐŸÑ€Ð¾Ð²ÐµÑ€ÐºÐ° Python...
python --version >nul 2>&1
if %errorlevel% neq 0 (
    echo âŒ ÐžÐ¨Ð˜Ð‘ÐšÐ: Python Ð½Ðµ Ð½Ð°Ð¹Ð´ÐµÐ½!
    echo ðŸ“¥ Ð£ÑÑ‚Ð°Ð½Ð¾Ð²Ð¸Ñ‚Ðµ Python 3.8+ Ñ https://python.org
    pause
    exit /b 1
)

:: ÐÐºÑ‚Ð¸Ð²Ð¸Ñ€ÑƒÐµÐ¼ Ð²Ð¸Ñ€Ñ‚ÑƒÐ°Ð»ÑŒÐ½Ð¾Ðµ Ð¾ÐºÑ€ÑƒÐ¶ÐµÐ½Ð¸Ðµ ÐµÑÐ»Ð¸ ÐµÑÑ‚ÑŒ
if exist "venv\Scripts\activate.bat" (
    echo ðŸ“¦ ÐÐºÑ‚Ð¸Ð²Ð°Ñ†Ð¸Ñ Ð²Ð¸Ñ€Ñ‚ÑƒÐ°Ð»ÑŒÐ½Ð¾Ð³Ð¾ Ð¾ÐºÑ€ÑƒÐ¶ÐµÐ½Ð¸Ñ...
    call venv\Scripts\activate.bat
) else (
    echo âš ï¸  Ð˜ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐµÑ‚ÑÑ ÑÐ¸ÑÑ‚ÐµÐ¼Ð½Ñ‹Ð¹ Python
)

:: ÐŸÑ€Ð¾Ð²ÐµÑ€ÑÐµÐ¼ config.env
if not exist "config.env" (
    echo âŒ ÐžÐ¨Ð˜Ð‘ÐšÐ: Ð¤Ð°Ð¹Ð» config.env Ð½Ðµ Ð½Ð°Ð¹Ð´ÐµÐ½!
    echo ðŸ“ Ð¡Ð¾Ð·Ð´Ð°Ð¹Ñ‚Ðµ ÐµÐ³Ð¾ Ð¸Ð· config.example
    echo ðŸ”‘ Ð£ÐºÐ°Ð¶Ð¸Ñ‚Ðµ Ð²Ð°ÑˆÐ¸ API ÐºÐ»ÑŽÑ‡Ð¸ Bybit
    pause
    exit /b 1
)

:: Ð¡Ð¾Ð·Ð´Ð°ÐµÐ¼ Ð¿Ð°Ð¿ÐºÑƒ Ð´Ð»Ñ Ð»Ð¾Ð³Ð¾Ð²
if not exist "logs" mkdir logs

:: ÐŸÑ€Ð¾Ð²ÐµÑ€ÑÐµÐ¼ Ð·Ð°Ð²Ð¸ÑÐ¸Ð¼Ð¾ÑÑ‚Ð¸
echo ðŸ“¦ ÐŸÑ€Ð¾Ð²ÐµÑ€ÐºÐ° Ð·Ð°Ð²Ð¸ÑÐ¸Ð¼Ð¾ÑÑ‚ÐµÐ¹...
python -c "import fastapi, uvicorn, pandas" >nul 2>&1
if %errorlevel% neq 0 (
    echo ðŸ“¦ Ð£ÑÑ‚Ð°Ð½Ð¾Ð²ÐºÐ° Ð·Ð°Ð²Ð¸ÑÐ¸Ð¼Ð¾ÑÑ‚ÐµÐ¹...
    pip install fastapi uvicorn pandas websockets python-dotenv
)

:: ÐžÑÐ²Ð¾Ð±Ð¾Ð¶Ð´Ð°ÐµÐ¼ Ð¿Ð¾Ñ€Ñ‚ 5000 ÐµÑÐ»Ð¸ Ð·Ð°Ð½ÑÑ‚
echo ðŸ”„ ÐŸÑ€Ð¾Ð²ÐµÑ€ÐºÐ° Ð¿Ð¾Ñ€Ñ‚Ð° 5000...
netstat -an | findstr :5000 >nul 2>&1
if %errorlevel% equ 0 (
    echo ðŸ”„ ÐžÑÐ²Ð¾Ð±Ð¾Ð¶Ð´ÐµÐ½Ð¸Ðµ Ð¿Ð¾Ñ€Ñ‚Ð° 5000...
    taskkill /f /im python.exe >nul 2>&1
    timeout /t 2 /nobreak >nul
)

:: Ð£ÑÑ‚Ð°Ð½Ð°Ð²Ð»Ð¸Ð²Ð°ÐµÐ¼ PYTHONPATH Ð´Ð»Ñ Ð¿Ñ€Ð°Ð²Ð¸Ð»ÑŒÐ½Ð¾Ð¹ Ñ€Ð°Ð±Ð¾Ñ‚Ñ‹ Ð¸Ð¼Ð¿Ð¾Ñ€Ñ‚Ð¾Ð²
set PYTHONPATH=%CD%

echo.
echo âœ… Ð’ÑÐµ Ð¿Ñ€Ð¾Ð²ÐµÑ€ÐºÐ¸ Ð¿Ñ€Ð¾Ð¹Ð´ÐµÐ½Ñ‹!
echo ðŸš€ Ð—Ð°Ð¿ÑƒÑÐº Ð²ÐµÐ±-ÑÐµÑ€Ð²ÐµÑ€Ð° Ñ‚Ð¾Ñ€Ð³Ð¾Ð²Ð¾Ð³Ð¾ Ð±Ð¾Ñ‚Ð°...
echo.
echo â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
echo â•‘                   Ð”ÐžÐ¡Ð¢Ð£ÐŸ Ðš Ð‘ÐžÐ¢Ð£                      â•‘
echo â•‘                                                      â•‘
echo â•‘  ðŸŒ Ð’ÐµÐ±-Ð¸Ð½Ñ‚ÐµÑ€Ñ„ÐµÐ¹Ñ: http://localhost:5000             â•‘
echo â•‘  ðŸ“š API Ð´Ð¾ÐºÑƒÐ¼ÐµÐ½Ñ‚Ð°Ñ†Ð¸Ñ: http://localhost:5000/docs     â•‘
echo â•‘  ðŸ”§ ReDoc: http://localhost:5000/redoc               â•‘
echo â•‘                                                      â•‘
echo â•‘  ðŸ†• PHASE 1 API ENDPOINTS:                          â•‘
echo â•‘  ðŸ“Š /market-analysis/{symbol}                        â•‘
echo â•‘  ðŸŽ¯ /enhanced-signals/{symbol}                       â•‘
echo â•‘  ðŸ›¡ï¸ /trailing-stops                                  â•‘
echo â•‘                                                      â•‘
echo â•‘  ðŸ›‘ Ð”Ð»Ñ Ð¾ÑÑ‚Ð°Ð½Ð¾Ð²ÐºÐ¸: Ctrl+C                           â•‘
echo â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
echo.

:: Ð—Ð°Ð¿ÑƒÑÐº Ð²ÐµÐ±-ÑÐµÑ€Ð²ÐµÑ€Ð°
python -m backend.main

echo.
if %errorlevel% neq 0 (
    echo âŒ Ð’ÐµÐ±-ÑÐµÑ€Ð²ÐµÑ€ Ð·Ð°Ð²ÐµÑ€ÑˆÐ¸Ð»ÑÑ Ñ Ð¾ÑˆÐ¸Ð±ÐºÐ¾Ð¹ (ÐºÐ¾Ð´: %errorlevel%)
    echo ðŸ“‹ ÐŸÑ€Ð¾Ð²ÐµÑ€ÑŒÑ‚Ðµ Ð»Ð¾Ð³Ð¸ Ð² Ð¿Ð°Ð¿ÐºÐµ logs/
    echo ðŸ” ÐŸÑ€Ð¾Ð²ÐµÑ€ÑŒÑ‚Ðµ config.env Ñ„Ð°Ð¹Ð»
) else (
    echo âœ… Ð’ÐµÐ±-ÑÐµÑ€Ð²ÐµÑ€ Ð¾ÑÑ‚Ð°Ð½Ð¾Ð²Ð»ÐµÐ½ ÐºÐ¾Ñ€Ñ€ÐµÐºÑ‚Ð½Ð¾
)

echo.
echo ðŸ‘‹ ÐÐ°Ð¶Ð¼Ð¸Ñ‚Ðµ Ð»ÑŽÐ±ÑƒÑŽ ÐºÐ»Ð°Ð²Ð¸ÑˆÑƒ Ð´Ð»Ñ Ð²Ñ‹Ñ…Ð¾Ð´Ð°...
pause >nul 