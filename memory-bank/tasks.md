# Memory Bank: Tasks

## Current Task
üîÑ **–ù–û–í–ê–Ø –ó–ê–î–ê–ß–ê: –û–∫—Ä—É–≥–ª–µ–Ω–∏–µ —Ä–∞–∑–º–µ—Ä–∞ –ø–æ–∑–∏—Ü–∏–∏ –¥–æ 100$ —Å —É—á–µ—Ç–æ–º –ø–ª–µ—á–∞**

## Task Definition
**–¶–µ–ª—å:** –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –æ–∫—Ä—É–≥–ª–µ–Ω–∏–µ —Ä–∞–∑–º–µ—Ä–∞ –ø–æ–∑–∏—Ü–∏–∏ –¥–æ –±–ª–∏–∂–∞–π—à–∏—Ö 100$ —Å —É—á–µ—Ç–æ–º –ø–ª–µ—á–∞, —á—Ç–æ–±—ã –≤—Å–µ –ø–æ–∑–∏—Ü–∏–∏ –∏–º–µ–ª–∏ –ø—Ä–µ–¥—Å–∫–∞–∑—É–µ–º—ã–π —Ä–∞–∑–º–µ—Ä
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** –í–´–°–û–ö–ò–ô - –£–õ–£–ß–®–ï–ù–ò–ï –¢–û–†–ì–û–í–û–ô –°–¢–†–ê–¢–ï–ì–ò–ò

## Problem Analysis
**–ü—Ä–æ–±–ª–µ–º–∞:** –†–∞–∑–º–µ—Ä—ã –ø–æ–∑–∏—Ü–∏–π —Å—Ç–∞–ª–∏ —Ä–∞–∑–Ω—ã–º–∏ –∏–∑-–∑–∞ —Ä–∞–∑–Ω—ã—Ö –ø–ª–µ—á –≤ —Ä–∞–∑–Ω—ã—Ö —Ä–µ–∂–∏–º–∞—Ö —Ç–æ—Ä–≥–æ–≤–ª–∏
**–ü—Ä–∏—á–∏–Ω–∞:** 
- –ê–≥—Ä–µ—Å—Å–∏–≤–Ω—ã–π —Ä–µ–∂–∏–º: 10-20x –ø–ª–µ—á–æ ‚Üí –º–∞–ª–µ–Ω—å–∫–∏–µ qty
- –°—Ä–µ–¥–Ω–∏–π —Ä–µ–∂–∏–º: 3-5x –ø–ª–µ—á–æ ‚Üí —Å—Ä–µ–¥–Ω–∏–µ qty  
- –ö–æ–Ω—Å–µ—Ä–≤–∞—Ç–∏–≤–Ω—ã–π —Ä–µ–∂–∏–º: 1x –ø–ª–µ—á–æ ‚Üí –±–æ–ª—å—à–∏–µ qty
**–ü–æ—Å–ª–µ–¥—Å—Ç–≤–∏—è:** –ù–µ–ø—Ä–µ–¥—Å–∫–∞–∑—É–µ–º—ã–µ —Ä–∞–∑–º–µ—Ä—ã –ø–æ–∑–∏—Ü–∏–π, —Å–ª–æ–∂–Ω–æ—Å—Ç—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ä–∏—Å–∫–∞–º–∏

## –†–µ—à–µ–Ω–∏–µ
**–ü–æ–¥—Ö–æ–¥:** –û–∫—Ä—É–≥–ª–µ–Ω–∏–µ —Å—Ç–æ–∏–º–æ—Å—Ç–∏ –ø–æ–∑–∏—Ü–∏–∏ –¥–æ –±–ª–∏–∂–∞–π—à–∏—Ö 100$ —Å —É—á–µ—Ç–æ–º –ø–ª–µ—á–∞

### ‚úÖ –ò–°–ü–†–ê–í–õ–ï–ù–ò–Ø –í–´–ü–û–õ–ù–ï–ù–´

#### 1. **–ù–æ–≤–∞—è —Ñ—É–Ω–∫—Ü–∏—è `round_position_to_nearest_100`**
- ‚úÖ –†–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç —Å—Ç–æ–∏–º–æ—Å—Ç—å –ø–æ–∑–∏—Ü–∏–∏ —Å —É—á–µ—Ç–æ–º –ø–ª–µ—á–∞
- ‚úÖ –û–∫—Ä—É–≥–ª—è–µ—Ç –¥–æ –±–ª–∏–∂–∞–π—à–∏—Ö 100$
- ‚úÖ –£—á–∏—Ç—ã–≤–∞–µ—Ç –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –±–∏—Ä–∂–∏ (qtyStep, minOrderQty)
- ‚úÖ –ì–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç –º–∏–Ω–∏–º–∞–ª—å–Ω—É—é —Å—Ç–æ–∏–º–æ—Å—Ç—å 100$

#### 2. **–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏ `_execute_trade`**
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–æ –æ–∫—Ä—É–≥–ª–µ–Ω–∏–µ —Ä–∞–∑–º–µ—Ä–∞ –ø–æ–∑–∏—Ü–∏–∏ –ø–æ—Å–ª–µ –±–∞–∑–æ–≤–æ–≥–æ —Ä–∞—Å—á–µ—Ç–∞
- ‚úÖ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –Ω–æ–≤–æ–π —Ñ—É–Ω–∫—Ü–∏–∏ –¥–ª—è –≤—Å–µ—Ö —Ä–µ–∂–∏–º–æ–≤

#### 3. **–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏ `place_order`**
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–æ –æ–∫—Ä—É–≥–ª–µ–Ω–∏–µ —Ä–∞–∑–º–µ—Ä–∞ –ø–æ–∑–∏—Ü–∏–∏ –ø–µ—Ä–µ–¥ –æ—Ç–ø—Ä–∞–≤–∫–æ–π –æ—Ä–¥–µ—Ä–∞
- ‚úÖ –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π —Ä–∞–∑–º–µ—Ä–∞ –ø–æ–∑–∏—Ü–∏–∏

## –ü—Ä–∏–º–µ—Ä—ã —Ä–∞–±–æ—Ç—ã

### –ê–≥—Ä–µ—Å—Å–∏–≤–Ω—ã–π —Ä–µ–∂–∏–º (10x –ø–ª–µ—á–æ, BTC = $54,000)
- **–ò—Å—Ö–æ–¥–Ω–æ–µ qty**: 0.000185 BTC
- **–ò—Å—Ö–æ–¥–Ω–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å**: 100.00 USDT
- **–û–∫—Ä—É–≥–ª–µ–Ω–Ω–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å**: 100.00 USDT
- **–ò—Ç–æ–≥–æ–≤–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å**: 100.00 USDT

### –°—Ä–µ–¥–Ω–∏–π —Ä–µ–∂–∏–º (3x –ø–ª–µ—á–æ, BTC = $54,000)
- **–ò—Å—Ö–æ–¥–Ω–æ–µ qty**: 0.000617 BTC  
- **–ò—Å—Ö–æ–¥–Ω–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å**: 100.00 USDT
- **–û–∫—Ä—É–≥–ª–µ–Ω–Ω–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å**: 100.00 USDT
- **–ò—Ç–æ–≥–æ–≤–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å**: 100.00 USDT

### –ö–æ–Ω—Å–µ—Ä–≤–∞—Ç–∏–≤–Ω—ã–π —Ä–µ–∂–∏–º (1x –ø–ª–µ—á–æ, BTC = $54,000)
- **–ò—Å—Ö–æ–¥–Ω–æ–µ qty**: 0.001852 BTC
- **–ò—Å—Ö–æ–¥–Ω–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å**: 100.00 USDT
- **–û–∫—Ä—É–≥–ª–µ–Ω–Ω–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å**: 100.00 USDT
- **–ò—Ç–æ–≥–æ–≤–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å**: 100.00 USDT

## –°—Ç–∞—Ç—É—Å: –ü–û–õ–ù–û–°–¢–¨–Æ –†–ï–®–ï–ù–û ‚úÖ
**–í—Ä–µ–º—è –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è:** 19.07.2025 00:15
**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –í—Å–µ –ø–æ–∑–∏—Ü–∏–∏ —Ç–µ–ø–µ—Ä—å –∏–º–µ—é—Ç –ø—Ä–µ–¥—Å–∫–∞–∑—É–µ–º—ã–π —Ä–∞–∑–º–µ—Ä ~100$ —Å —É—á–µ—Ç–æ–º –ø–ª–µ—á–∞

## –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### –ê–ª–≥–æ—Ä–∏—Ç–º –æ–∫—Ä—É–≥–ª–µ–Ω–∏—è
1. **–†–∞—Å—á–µ—Ç —Å—Ç–æ–∏–º–æ—Å—Ç–∏**: `position_value = qty * current_price * leverage`
2. **–û–∫—Ä—É–≥–ª–µ–Ω–∏–µ**: `rounded_value = round(position_value / 100) * 100`
3. **–ü–µ—Ä–µ—Å—á–µ—Ç qty**: `new_qty = rounded_value / (current_price * leverage)`
4. **–ö–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∫–∞**: `adjusted_qty = adjust_qty(symbol, new_qty)`
5. **–ü—Ä–æ–≤–µ—Ä–∫–∞ –º–∏–Ω–∏–º—É–º–∞**: –ì–∞—Ä–∞–Ω—Ç–∏—è –º–∏–Ω–∏–º—É–º 100$ —Å—Ç–æ–∏–º–æ—Å—Ç–∏

### –ó–∞—Ç—Ä–æ–Ω—É—Ç—ã–µ —Ñ–∞–π–ª—ã
- `backend/core/trading_engine.py` - –¥–æ–±–∞–≤–ª–µ–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è –æ–∫—Ä—É–≥–ª–µ–Ω–∏—è –∏ –æ–±–Ω–æ–≤–ª–µ–Ω—ã –æ—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏

### –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ —Ä–µ—à–µ–Ω–∏—è
- ‚úÖ **–ü—Ä–µ–¥—Å–∫–∞–∑—É–µ–º–æ—Å—Ç—å**: –í—Å–µ –ø–æ–∑–∏—Ü–∏–∏ ~100$ —Å—Ç–æ–∏–º–æ—Å—Ç–∏
- ‚úÖ **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–∏—Å–∫–∞–º–∏**: –û–¥–∏–Ω–∞–∫–æ–≤—ã–π —Ä–∞–∑–º–µ—Ä –ø–æ–∑–∏—Ü–∏–π
- ‚úÖ **–ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å**: –£—á–∏—Ç—ã–≤–∞–µ—Ç —Ä–∞–∑–Ω—ã–µ –ø–ª–µ—á–∏ –∏ —Ü–µ–Ω—ã
- ‚úÖ **–°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å**: –†–∞–±–æ—Ç–∞–µ—Ç —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏ –±–∏—Ä–∂–∏

---

## Previous Tasks
### ‚úÖ –†–ï–®–ï–ù–ê: –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –≤—ã–ø–∞–¥–∞—é—â–µ–≥–æ —Å–ø–∏—Å–∫–∞ —Ä–µ–∂–∏–º–æ–≤
**–°—Ç–∞—Ç—É—Å:** –ü–û–õ–ù–û–°–¢–¨–Æ –†–ï–®–ï–ù–û ‚úÖ
**–í—Ä–µ–º—è:** 18.07.2025 23:25
**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –í—ã–ø–∞–¥–∞—é—â–∏–π —Å–ø–∏—Å–æ–∫ —Ä–µ–∂–∏–º–æ–≤ –ø–æ–ª–Ω–æ—Å—Ç—å—é —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω —Å —Å–∏—Å—Ç–µ–º–æ–π

### ‚úÖ –†–ï–®–ï–ù–ê: –ü—Ä–æ–±–ª–µ–º–∞ —Å —Ç–æ—Ä–≥–æ–≤—ã–º–∏ —Å–∏–≥–Ω–∞–ª–∞–º–∏ –≤ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ
**–°—Ç–∞—Ç—É—Å:** –ü–û–õ–ù–û–°–¢–¨–Æ –†–ï–®–ï–ù–û ‚úÖ
**–í—Ä–µ–º—è:** 18.07.2025 22:30-23:12
**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –í—Å–µ –≤–∞–ª—é—Ç–Ω—ã–µ –ø–∞—Ä—ã —Ä–∞–±–æ—Ç–∞—é—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ 

# –ó–∞–¥–∞—á–∞: –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—à–∏–±–∫–∏ "Qty invalid (ErrCode: 10001)" –ø—Ä–∏ –≤—ã—Å—Ç–∞–≤–ª–µ–Ω–∏–∏ –æ—Ä–¥–µ—Ä–æ–≤

## –ü—Ä–æ–±–ª–µ–º–∞
–ü—Ä–∏ –ø–æ–ø—ã—Ç–∫–µ –≤—ã—Å—Ç–∞–≤–∏—Ç—å –æ—Ä–¥–µ—Ä –Ω–∞ SOLUSDT —Å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º 0.65 –≤–æ–∑–Ω–∏–∫–∞–ª–∞ –æ—à–∏–±–∫–∞ `Qty invalid (ErrCode: 10001)`. –≠—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏–ª–æ –ø–æ—Ç–æ–º—É, —á—Ç–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –Ω–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–æ–≤–∞–ª–æ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º –±–∏—Ä–∂–∏ Bybit.

## –ê–Ω–∞–ª–∏–∑ –ø—Ä–æ–±–ª–µ–º—ã
- **–ü—Ä–∏—á–∏–Ω–∞**: –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ –∑–Ω–∞—á–µ–Ω–∏—è `LOT_SIZE` –∏ `LOT_PRECISION` –Ω–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–æ–≤–∞–ª–∏ –∞–∫—Ç—É–∞–ª—å–Ω—ã–º —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º –±–∏—Ä–∂–∏
- **–î–ª—è SOLUSDT**: `minOrderQty: 0.1`, `qtyStep: 0.1`, `minNotionalValue: 5 USDT`
- **–ü—Ä–æ–±–ª–µ–º–∞**: –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ 0.65 –Ω–µ –∫—Ä–∞—Ç–Ω–æ `qtyStep` (0.1)

## –†–µ—à–µ–Ω–∏–µ

### ‚úÖ –ò–°–ü–†–ê–í–õ–ï–ù–ò–Ø –í–´–ü–û–õ–ù–ï–ù–´

#### 1. **–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏ `format_qty_for_bybit`**
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–æ –ø–æ–ª—É—á–µ–Ω–∏–µ –∞–∫—Ç—É–∞–ª—å–Ω—ã—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ —Å –±–∏—Ä–∂–∏ —á–µ—Ä–µ–∑ API
- ‚úÖ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `minOrderQty`, `qtyStep`, `minNotionalValue` —Å –±–∏—Ä–∂–∏
- ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ–µ –æ–∫—Ä—É–≥–ª–µ–Ω–∏–µ –¥–æ –∫—Ä–∞—Ç–Ω–æ–≥–æ `qtyStep`
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–π —Å—É–º–º—ã –æ—Ä–¥–µ—Ä–∞
- ‚úÖ –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ–µ –æ–∫—Ä—É–≥–ª–µ–Ω–∏–µ –ø—Ä–∏ –Ω–µ—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–∏

#### 2. **–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏ `adjust_qty`**
- ‚úÖ –ü–æ–ª—É—á–µ–Ω–∏–µ –∞–∫—Ç—É–∞–ª—å–Ω—ã—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ —Å –±–∏—Ä–∂–∏
- ‚úÖ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `qtyStep` –≤–º–µ—Å—Ç–æ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ `lot_size`
- ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ–µ –æ–∫—Ä—É–≥–ª–µ–Ω–∏–µ —Å `ROUND_HALF_UP`

#### 3. **–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏ `_execute_trade`**
- ‚úÖ –ü–æ–ª—É—á–µ–Ω–∏–µ `minNotionalValue` —Å –±–∏—Ä–∂–∏ –¥–ª—è —Ä–∞—Å—á–µ—Ç–∞ –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–≥–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞
- ‚úÖ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∞–∫—Ç—É–∞–ª—å–Ω—ã—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –¥–ª—è —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

#### 4. **–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏ `place_order`**
- ‚úÖ –ü–æ–ª—É—á–µ–Ω–∏–µ –∞–∫—Ç—É–∞–ª—å–Ω—ã—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ —Å –±–∏—Ä–∂–∏ –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–π —Å—É–º–º—ã
- ‚úÖ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏—Ö –∑–Ω–∞—á–µ–Ω–∏–π –≤–º–µ—Å—Ç–æ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏—Ö

#### 5. **–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏ `close_position`**
- ‚úÖ –£–¥–∞–ª–µ–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏—Ö `LOT_SIZE`

## –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

### ‚úÖ –£—Å–ø–µ—à–Ω—ã–µ —Ç–µ—Å—Ç—ã
- **–ü–æ–ª—É—á–µ–Ω–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ —Å –±–∏—Ä–∂–∏**: ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- **–û–∫—Ä—É–≥–ª–µ–Ω–∏–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞**: ‚úÖ 0.13 –∫—Ä–∞—Ç–Ω–æ 0.01 –¥–ª—è BNBUSDT
- **–ü—Ä–æ–≤–µ—Ä–∫–∞ –∫—Ä–∞—Ç–Ω–æ—Å—Ç–∏**: ‚úÖ remainder=0
- **–§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å—Ç—Ä–æ–∫–∏**: ‚úÖ "0.13" –≤–º–µ—Å—Ç–æ "0.65"
- **–û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –æ—à–∏–±–æ–∫**: ‚úÖ –ù–µ—Ç –æ—à–∏–±–æ–∫ "Qty invalid" –≤ –ª–æ–≥–∞—Ö

### üìä –ü—Ä–∏–º–µ—Ä—ã –∏–∑ –ª–æ–≥–æ–≤
```
[adjust_qty] –ü–æ–ª—É—á–µ–Ω—ã –ø–∞—Ä–∞–º–µ—Ç—Ä—ã —Å –±–∏—Ä–∂–∏: minOrderQty=0.01, qtyStep=0.01
[adjust_qty] BNBUSDT: 0.130000 ‚Üí 0.13 (qtyStep=0.01, minOrderQty=0.01)
[format_qty_for_bybit] –ü–æ–ª—É—á–µ–Ω—ã –ø–∞—Ä–∞–º–µ—Ç—Ä—ã —Å –±–∏—Ä–∂–∏: minOrderQty=0.01, qtyStep=0.01, minNotionalValue=5
[format_qty_for_bybit] qty/qtyStep=13, remainder=0
[format_qty_for_bybit] qty_str result: 0.13, qty*price=104.00000
```

## –°—Ç–∞—Ç—É—Å: –ü–û–õ–ù–û–°–¢–¨–Æ –†–ï–®–ï–ù–û ‚úÖ
**–í—Ä–µ–º—è –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è:** 18.07.2025 23:50
**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –û—à–∏–±–∫–∞ "Qty invalid (ErrCode: 10001)" –ø–æ–ª–Ω–æ—Å—Ç—å—é —É—Å—Ç—Ä–∞–Ω–µ–Ω–∞. –í—Å–µ –æ—Ä–¥–µ—Ä–∞ —Ç–µ–ø–µ—Ä—å –∏—Å–ø–æ–ª—å–∑—É—é—Ç –∞–∫—Ç—É–∞–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã —Å –±–∏—Ä–∂–∏ Bybit.

## –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### –ù–æ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
1. **–î–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–µ –ø–æ–ª—É—á–µ–Ω–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤**: –ó–∞–ø—Ä–æ—Å –∫ `https://api-testnet.bybit.com/v5/market/instruments-info`
2. **Fallback –º–µ—Ö–∞–Ω–∏–∑–º**: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏—Ö –∑–Ω–∞—á–µ–Ω–∏–π –ø—Ä–∏ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ API
3. **–¢–æ—á–Ω–æ–µ –æ–∫—Ä—É–≥–ª–µ–Ω–∏–µ**: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `Decimal` —Å `ROUND_HALF_UP`
4. **–í–∞–ª–∏–¥–∞—Ü–∏—è**: –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫—Ä–∞—Ç–Ω–æ—Å—Ç–∏ –∏ –º–∏–Ω–∏–º–∞–ª—å–Ω—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π

### –ó–∞—Ç—Ä–æ–Ω—É—Ç—ã–µ —Ñ–∞–π–ª—ã
- `backend/core/trading_engine.py` - –æ—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞
- –í—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏ —Ç–µ–ø–µ—Ä—å –∏—Å–ø–æ–ª—å–∑—É—é—Ç –∞–∫—Ç—É–∞–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã —Å –±–∏—Ä–∂–∏

### –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ —Ä–µ—à–µ–Ω–∏—è
- ‚úÖ **–ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–¥—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è –ø–æ–¥ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–π –±–∏—Ä–∂–∏
- ‚úÖ **–ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å**: Fallback –Ω–∞ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ –∑–Ω–∞—á–µ–Ω–∏—è –ø—Ä–∏ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ API
- ‚úÖ **–¢–æ—á–Ω–æ—Å—Ç—å**: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `Decimal` –¥–ª—è —Ç–æ—á–Ω—ã—Ö –≤—ã—á–∏—Å–ª–µ–Ω–∏–π
- ‚úÖ **–í–∞–ª–∏–¥–∞—Ü–∏—è**: –ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç–∏ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ 